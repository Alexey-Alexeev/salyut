# Настройка Telegram Бота для FireWorks

## Шаги настройки:

### 1. Создание бота (уже сделано ✅)
Если еще не создали:
- Напишите @BotFather в Telegram
- Отправьте `/newbot`
- Выберите имя и username для бота
- Скопируйте токен

### 2. Настройка переменных окружения

Добавьте в файл `.env.local`:
```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here
```

### 3. Получение Chat ID

**Способ 1 - Автоматический (рекомендуется):**
1. Запустите скрипт диагностики:
   ```bash
   node scripts/setup-telegram.js
   ```
2. Если Chat ID не найден, найдите вашего бота в Telegram
3. Отправьте боту любое сообщение (например, `/start`)
4. Запустите скрипт снова - он покажет ваш Chat ID
5. Скопируйте Chat ID в `.env.local`

**Способ 2 - Ручной:**
1. Найдите вашего бота в Telegram по username
2. Отправьте боту сообщение `/start`
3. Откройте в браузере: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
4. Найдите ваш `chat.id` в ответе
5. Добавьте его в `.env.local`

### 4. Тестирование

Запустите скрипт для проверки:
```bash
node scripts/setup-telegram.js
```

Если все настроено правильно, бот отправит тестовое сообщение.

## Возможные ошибки:

### Ошибка 400 "Bad Request"
- **Причина**: Неверный Chat ID или пользователь не начал диалог с ботом
- **Решение**: Отправьте боту `/start` и получите правильный Chat ID

### Ошибка 401 "Unauthorized" 
- **Причина**: Неверный токен бота
- **Решение**: Проверьте токен в `.env.local`

### Ошибка 403 "Forbidden"
- **Причина**: Пользователь заблокировал бота
- **Решение**: Разблокируйте бота в Telegram

## Примечания:

- Заказы будут создаваться даже если Telegram уведомления не работают
- Уведомления не критичны для работы сайта
- Можно временно оставить пустыми `TELEGRAM_BOT_TOKEN` и `TELEGRAM_CHAT_ID` для тестирования без уведомлений