# Руководство по городским страницам

## Краткий обзор

Для улучшения локального SEO и эффективности контекстной рекламы созданы отдельные посадочные страницы для 20 городов Москвы и Московской области.

## Что было реализовано

### 1. Файл с данными городов (`lib/cities.ts`)
Содержит информацию о городах с правильными склонениями:
- `slug` - URL-friendly название (например: `balashiha`)
- `name` - Именительный падеж (например: "Балашиха")
- `nameLocative` - Предложный падеж для "в чём?" (например: "Балашихе")
- `nameAccusative` - Винительный падеж для "куда?" (например: "Балашиху")
- `metaDescription` - Уникальное SEO-описание

### 2. Динамический роут (`app/[city]/page.tsx`)
Автоматически генерирует страницы для всех городов из списка:
- ✅ Уникальные мета-теги для каждого города
- ✅ H1 с названием города ("Незабываемые салюты в Балашихе")
- ✅ JSON-LD разметка для локального SEO
- ✅ Статическая генерация всех страниц (build time)

### 3. Обновлённая Hero-секция (`components/sections/hero-section.tsx`)
Принимает опциональный пропс `cityName` и отображает:
- Если город указан: "Незабываемые салюты в [Городе]"
- Если город не указан: стандартный текст (для главной страницы)

### 4. Обновлённый Sitemap (`app/sitemap.ts`)
Автоматически включает все городские страницы с высоким приоритетом (0.9).

## Доступные URL

После деплоя будут доступны следующие страницы:

- `https://салютград.рф/moskva` - Москва
- `https://салютград.рф/balashiha` - Балашиха
- `https://салютград.рф/podolsk` - Подольск
- `https://салютград.рф/himki` - Химки
- `https://салютград.рф/lyubertsy` - Люберцы
- И еще 15 городов...

Полный список смотрите в `lib/cities.ts`.

## Как добавить новый город

1. Откройте `lib/cities.ts`
2. Добавьте новый объект в массив `cities`:

```typescript
{
  slug: 'novyy-gorod',
  name: 'Новый Город',
  nameLocative: 'Новом Городе',
  nameAccusative: 'Новый Город',
  region: 'Московская область',
  metaDescription: 'Купить фейерверки и салюты в Новом Городе с доставкой...',
  population: 50000,
}
```

3. Пересоберите проект:
```bash
npm run build
```

4. Страница автоматически появится по адресу `/novyy-gorod`

## SEO-оптимизация

### Метаданные для каждого города
Каждая страница имеет уникальные:
- `<title>` - "Купить фейерверки и салюты в [Городе] | СалютГрад"
- `<meta name="description">` - Уникальное описание с названием города
- `<meta name="keywords">` - Ключевые слова с городом
- OpenGraph теги для соцсетей
- Canonical URL

### Структурированные данные (JSON-LD)
Каждая страница содержит schema.org разметку:
- LocalBusiness
- Адрес обслуживания (areaServed) для конкретного города
- Каталог товаров с упоминанием города
- Отзывы с упоминанием города

## Яндекс Директ

⚠️ **ВАЖНО:** Яндекс Директ НЕ автоматически перенаправляет пользователей на нужную страницу!

### Что нужно сделать:

1. **Создать отдельные кампании/группы для каждого города**
2. **Указать в настройках объявления прямую ссылку:**
   - Для Москвы: `https://салютград.рф/moskva`
   - Для Балашихи: `https://салютград.рф/balashiha`
   - И т.д.

3. **Настроить гео-таргетинг** в Яндекс Директ:
   - Показывать объявление только жителям конкретного города
   - Использовать ключевые слова с названием города

Подробная инструкция в файле `docs/yandex-direct-setup.md`

## Проверка работы

### Локально
```bash
npm run dev
```

Откройте в браузере:
- http://localhost:3000/moskva
- http://localhost:3000/balashiha
- http://localhost:3000/himki

### После деплоя
Проверьте:
1. Открываются ли все страницы городов
2. Корректно ли склоняются названия в H1
3. Уникальны ли title и description
4. Доступен ли sitemap: `https://салютград.рф/sitemap.xml`

## Аналитика

### Рекомендуемые метрики для отслеживания:

1. **Трафик по городам**
   - Какие города приносят больше всего трафика
   - Источники трафика (органика vs реклама)

2. **Конверсии по городам**
   - Из какого города больше всего заказов
   - CR (Conversion Rate) по каждому городу

3. **Поведенческие факторы**
   - Время на странице
   - Показатель отказов
   - Переходы в каталог

### Настройка Яндекс.Метрики

Добавьте пользовательские параметры для отслеживания города:

```javascript
ym(XXXXXX, 'params', {
  city: 'Балашиха'
});
```

Это позволит сегментировать аудиторию по городам в отчётах.

## FAQ

### Можно ли использовать один URL для всех городов?
Нет, это не эффективно для SEO. Поисковые системы лучше ранжируют страницы с уникальным контентом и URL под конкретные запросы.

### Нужно ли создавать отдельные товары для каждого города?
Нет, товары общие для всех. Городские страницы используют один и тот же каталог.

### Как изменить текст на всех городских страницах?
Измените компоненты в `app/[city]/page.tsx`. Изменения применятся ко всем городам автоматически.

### Как показывать разные цены для разных городов?
Это требует дополнительной логики. Можно добавить в `lib/cities.ts` поле `deliveryPrice` и использовать его в компоненте доставки.

## Поддержка

Если возникли вопросы или нужна помощь с настройкой:
1. Проверьте `docs/yandex-direct-setup.md`
2. Изучите код в `app/[city]/page.tsx`
3. Посмотрите список городов в `lib/cities.ts`


